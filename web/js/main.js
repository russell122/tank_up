"use strict";document.addEventListener("DOMContentLoaded",function(){Array.prototype.flat||(Array.prototype.flat=function(){return function a(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(a(t)):e.concat(t)},[])}(this)})}),$(document).ready(function(){new Swiper(".sectificate-slider__swiper",{slidesPerView:6,spaceBetween:10,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:2,spaceBetween:8},576:{slidesPerView:3,spaceBetween:12},768:{slidesPerView:4,spaceBetween:12},1200:{slidesPerView:5,spaceBetween:12},1601:{slidesPerView:6,spaceBetween:30}}});$("a[data-rel^=lightcase]").lightcase();var e=document.querySelector(".nav");e.offsetTop;function t(){$("*[data-anchor]").each(function(e){var t=$(this).attr("data-anchor");$(this).offset().top-400<=$(window).scrollTop()&&($(".nav li ").removeClass("active"),$('[data-menuAnchor="'+t+'"]').addClass("active"))})}window.addEventListener("scroll",function(){200<window.pageYOffset?e.classList.add("sticky"):e.classList.remove("sticky")}),$(".nav li").on("click",function(e){var t=$(this).attr("data-menuAnchor");e.preventDefault();t=$('[data-anchor="'+t+'"]');$("html,body").stop().animate({scrollTop:$(t).offset().top},1e3)}),t(),$(window).scroll(function(){t()}),$(window).resize(function(){t()});function a(e,t,a){var n=!(2<arguments.length&&void 0!==a)||a,e=document.querySelectorAll(e),r=document.querySelector(t),s=document.querySelectorAll("[data-modal]");e.forEach(function(t){t.addEventListener("click",function(e){return(!t.classList.contains("popup_calc_button")||void 0!==modalState.width&&void 0!==modalState.height&&void 0!==modalState.form)&&((!t.classList.contains("popup_calc_profile_button")||void 0!==modalState.type&&void 0!==modalState.profile)&&(s.forEach(function(e){e.style.display="none"}),r.style.display="block",void(document.body.style.overflow="hidden")))})}),r.addEventListener("click",function(e){e.target===r&&n&&(s.forEach(function(e){e.style.display="none"}),r.style.display="none",document.body.style.overflow=""),""==e.target.getAttribute("data-close")&&(r.style.display="none",document.body.style.overflow="")})}a(".popup-btn",".popup"),a(".popup__order-btn",".popup__order"),$(".phone").mask("+7 (999) 999-9999"),$(".circle-elem").circleProgress({value:.3,size:240,thickness:23,fill:{gradient:["#FF8000"]},emptyFill:"#DDEAEE"});var n,r,l=[{genre:"post",percentage:37,name:"Поставки на АЗС"},{genre:"prom",percentage:14,name:"Промышленность"},{genre:"torg",percentage:12,name:"Предприятия",name2:"торгового комплекса"},{genre:"sx",percentage:12,name:"Сельскохозяйственные",name2:"предприятия"},{genre:"transp",percentage:10,name:"Транспорт"},{genre:"stroit",percentage:8,name:"Строительство"}];6<l.length&&(n=0,r=_.slice(l,6),_.forEach(r,function(e,t){n+=e.percentage,otherName+=e.name,otherName2+=e.name2}),l.splice(6),l.push({genre:"other",percentage:n,name:otherName,name2:otherName2}));var i=d3.select("#flavour-graph");i.append("g").attr("class","chart-center").attr("transform","translate(350, 250)");for(var d=d3.pie().value(function(e){return e.percentage})(l),s=0;s<l.length;s+=1)!function(n){var r=l[n].genre,e=l[n].percentage,t=l[n].name,a=l[n].name2;i.select(".chart-center").append("g").attr("class","chart-segment__"+r);var s={innerRadius:0,outerRadius:125,startAngle:d[n].startAngle,endAngle:d[n].endAngle},c=d3.arc()(s),o=d3.arc().centroid(s);o[0]=o[0]-7-2*n,n<6&&(i.select(".chart-segment__"+r).append("path").attr("d",c).attr("class","segment-"+n),(c=function(e,t,a){a=a?o[0]+a-2*n:o[0];i.select(".chart-segment__"+r).append("text").attr("x",a).attr("y",o[1]).attr("class",e).text(t)})("segment-"+n+"__text",e.toFixed()),c("segment-"+n+"__text-percentage","%",40),c("segment-"+n+"__text-name",t),c("segment-"+n+"__text-name2",a)),i.select(".segment-0__text").attr("x","70").attr("y","-18"),i.select(".segment-0__text-percentage").attr("x","95").attr("y","-18"),i.select(".segment-1__text").attr("x","7").attr("y","130"),i.select(".segment-1__text-percentage").attr("x","25").attr("y","130"),i.select(".segment-2__text").attr("x","-100").attr("y","100"),i.select(".segment-2__text-percentage").attr("x","-80").attr("y","100"),i.select(".segment-3__text").attr("x","-130").attr("y","20"),i.select(".segment-3__text-percentage").attr("x","-110").attr("y","20"),i.select(".segment-4__text").attr("x","-90").attr("y","-50"),i.select(".segment-4__text-percentage").attr("x","-70").attr("y","-50"),i.select(".segment-5__text").attr("x","-38").attr("y","-87"),i.select(".segment-5__text-percentage").attr("x","-25").attr("y","-87"),i.select(".segment-0__text-name").attr("x","97").attr("y","-182"),i.select(".segment-1__text-name").attr("x","102").attr("y","225"),i.select(".segment-2__text-name").attr("x","-305").attr("y","126"),i.select(".segment-2__text-name2").attr("x","-305").attr("y","142"),i.select(".segment-3__text-name").attr("x","-350").attr("y","0"),i.select(".segment-3__text-name2").attr("x","-350").attr("y","22"),i.select(".segment-4__text-name").attr("x","-300").attr("y","-82"),i.select(".segment-5__text-name").attr("x","-270").attr("y","-172")}(s)});